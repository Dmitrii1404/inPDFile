# inPDFile

inPDFile — это front-end приложение для анализа PDF-документов, разработанное на React с использованием TypeScript и Vite. Приложение взаимодействует с backend API (на FastAPI) для загрузки, анализа PDF-файлов, а также для управления аутентификацией пользователя. В процессе работы используются такие библиотеки, как axios, react-toastify и NProgress.

## Основные возможности

- **Загрузка и анализ PDF**  
  Пользователь может загрузить PDF, после чего приложение отправит файл на сервер для анализа. Результатом анализа является изображение с нанесёнными областями (bounding boxes).

- **Управление пользователем**  
  Авторизация, подтверждение кода, просмотр профиля и удаление аккаунта.

- **Глобальный индикатор загрузки**  
  Отображение прогресса HTTP-запросов с использованием NProgress.

- **Всплывающие уведомления**  
  Информирование пользователя о статусе операций с помощью react-toastify.

## Структура проекта

```text
src/ 
├── assets/                # Статические файлы (изображения, иконки)
├── components/            # Повторно используемые компоненты (Header, LoadingBar)
├── context/               # Глобальные состояния (AuthContext)
├── pages/                 # Страницы приложения (Home, History, AuthPage, ConfirmCode, Profile, DeleteAccount)
├── App.tsx                # Корневой компонент приложения с настройками провайдеров и маршрутизацией
└── main.tsx               # Точка входа приложения
```

## Технологии

- **React** + **TypeScript** — основа приложения
- **Vite** — быстрый сборщик
- **React Router** — маршрутизация
- **axios** — HTTP-запросы
- **NProgress** — индикатор загрузки
- **react-toastify** — уведомления

## Инструкция по запуску

### Предварительные условия

- Node.js (v14+)
- npm

### Шаги запуска

1. **Клонировать репозиторий:**
   ```bash
   git clone <https://github.com/finlleyl/inPDFile.git>
   cd inPDFile
   ```

2. **Установить зависимости:**
   ```bash
   npm install
   ```

3. **Запустить приложение в режиме разработки:**
   ```bash
   npm run dev
   ```
   После этого Vite поднимет сервер, доступный по адресу `http://localhost:8080`.


## Пример работы с API

При загрузке файла на странице (например, в компоненте AnalyzeUpload) выполняется следующий алгоритм:
1. Пользователь выбирает PDF-файл.
2. Файл упаковывается в FormData и отправляется на сервер по эндпоинту `/analyze`.
3. Во время загрузки отображается индикатор и NProgress, а также обновляется процент выполнения.
4. После получения ответа отображается результат анализа.


## Настройка CORS

Для корректной работы с куки на backend (FastAPI) необходимо в настройках CORS разрешить запросы с front-end.
Пример для локальной разработки:
```python
origins = [
    "http://localhost",
    "http://localhost:8080",
]

app.add_middleware(
    CORSMiddleware,
    allow_origins=origins,
    allow_credentials=True,
    allow_methods=["GET", "POST", "PUT", "DELETE"],
    allow_headers=[
        "Content-Type",
        "Set-Cookie",
        "Access-Control-Allow-Headers",
        "Access-Control-Allow-Origin",
        "Authorization",
    ],
)
```